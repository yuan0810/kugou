var WebCollectConfig=WebCollectConfig||{appid:1e3,appkey:"abcdefg"};!function(){function t(){clearTimeout(WebCollectConfig.getServertimeFlag);var t="",i={_t:(new Date).getTime(),_r:Math.random(),callback:"WebCollectConfig.callback",appid:WebCollectConfig.appid},n=h(i,t);WebCollectConfig.getServertimeFlag=setTimeout(function(){$.post("http://stat.www2.kugou.com/node/weblog/jsloger",{key:"home_apm_ST_Timeout",apmCollectData:apmCollectData})},1e4);var o="http://webcollect.kugou.com/v2/web/time.js?appid="+i.appid+"&_t="+i._t+"&_r="+i._r+"&sign="+n+"&callback="+i.callback;try{e(o)}catch(t){}}function e(t){var e=document.createElement("script");e.type="text/javascript",e.src=t,document.getElementsByTagName("head")[0].appendChild(e)}function i(t,e,i,n){var a={_t:r(),business:t,appid:WebCollectConfig.appid},l=h(a,e),c="http://webcollect.kugou.com/";n&&(c="http://rt.webcollect.kugou.com/");var s=c+"v2/web/post?appid="+a.appid+"&business="+a.business+"&_t="+a._t+"&sign="+l;o(s,e,i)}function n(t,e){var i,o,r,h,a,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},c=/["\\\x00-\x1f\x7f-\x9f]/g;switch(typeof t){case"string":return c.test(t)?'"'+t.replace(c,function(t){var e=l[t];return e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})+'"':'"'+t+'"';case"number":return isFinite(t)?String(t):"null";case"boolean":case"null":return String(t);case"object":if(!t)return"null";if("function"==typeof t.toJSON)return n(t.toJSON());if(i=[],"number"==typeof t.length&&!t.propertyIsEnumerable("length")){for(h=t.length,o=0;o<h;o+=1)i.push(n(t[o],e)||"null");return"["+i.join(",")+"]"}if(e)for(h=e.length,o=0;o<h;o+=1)r=e[o],"string"==typeof r&&(a=n(t[r],e),a&&i.push(n(r)+":"+a));else for(r in t)"string"==typeof r&&(a=n(t[r],e),a&&i.push(n(r)+":"+a));return"{"+i.join(",")+"}"}}function o(t,e,i){var n=f(),o=document.createElement("form");o.name="postForm"+n,o.id="postForm"+n;var r=document.createElement("input");r.type="hidden",r.name="content",r.value=e,o.appendChild(r),document.body.appendChild(o);var h=null;try{h=document.createElement('<iframe name="postIframe'+n+'">')}catch(t){h=document.createElement("iframe")}try{h.name="postIframe"+n,h.id="postIframe"+n,h.width="1",h.height="1",h.style.display="none",document.body.appendChild(h),o.action=t,o.target=h.name,o.method="post",o.submit();try{var a=JSON.parse(decodeURIComponent(decodeURIComponent(e)));(a.timeLength<0||a.timeLength>6e5)&&$.post("http://stat.www2.kugou.com/node/weblog/jsloger",{key:"home_apm_update",apmontent:a})}catch(t){}}catch(t){i&&i()}return h.attachEvent?h.attachEvent("onload",function(){void 0!=WebCollectConfig.clinetfrom&&"1001"!=WebCollectConfig.clinetfrom||(document.body.removeChild(h),document.body.removeChild(o)),h=null,i&&i()}):h.onload=function(){void 0!=WebCollectConfig.clinetfrom&&"1001"!=WebCollectConfig.clinetfrom||(document.body.removeChild(h),document.body.removeChild(o)),h=null,i&&i()},!1}function r(){var t=parseInt((new Date).getTime()/1e3)+WebCollectConfig.jetTag;return t}function h(t,e){var i="",n=[];for(var o in t)n.push(o);n.sort();for(var r=0,h=n.length;r<h;r++)i+=n[r]+t[n[r]];return i+=WebCollectConfig.appkey+e,s.md5(i)}function a(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function l(e,o,r,h){try{if(apmCollectData&&apmCollectData.length>0)for(var s=0,f=apmCollectData.length;s<f;s++){var g=apmCollectData.pop(),u=g[1];l(g[0],u,g[2],g[3])}}catch(t){}try{o.toString(),WebCollectConfig.clinetfrom=o.plat_id}catch(t){}if(!a(o)){var m=encodeURIComponent(n(o)),p=[e,o,r,h];WebCollectConfig.getServerFlag?i(e,m,r,h):(WebCollectConfig.requestList.push(p),clearTimeout(c),c=setTimeout(t(),1e3))}}if(1!=WebCollectConfig.loaded){WebCollectConfig.loaded=!0;var c;WebCollectConfig.servertime=1421395624,WebCollectConfig.getServerFlag=!1,WebCollectConfig.getServertimeFlag=null,WebCollectConfig.requestList=[],WebCollectConfig.jetTag=-1,WebCollectConfig.callback=function(t){clearTimeout(WebCollectConfig.getServertimeFlag),WebCollectConfig.getServerFlag=!0;var e=parseInt(t.now);if(WebCollectConfig.servertime=parseInt(e),WebCollectConfig.jetTag=WebCollectConfig.servertime-parseInt((new Date).getTime()/1e3)||0,WebCollectConfig.getServerFlag&&(clearTimeout(c),WebCollectConfig.requestList.length>0))for(var o=0,r=WebCollectConfig.requestList.length;o<r;o++){var h=WebCollectConfig.requestList.pop(),a=encodeURIComponent(n(h[1]));i(h[0],a,h[2],h[3])}};var s={hex_chr:"0123456789abcdef",rhex:function(t){for(var e="",i=0;i<=3;i++)e+=this.hex_chr.charAt(t>>8*i+4&15)+this.hex_chr.charAt(t>>8*i&15);return e},str2blks_MD5:function(t){for(var e=(t.length+8>>6)+1,i=new Array(16*e),n=0;n<16*e;n++)i[n]=0;for(var n=0;n<t.length;n++)i[n>>2]|=t.charCodeAt(n)<<n%4*8;return i[n>>2]|=128<<n%4*8,i[16*e-2]=8*t.length,i},add:function(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i},rol:function(t,e){return t<<e|t>>>32-e},cmn:function(t,e,i,n,o,r){return this.add(this.rol(this.add(this.add(e,t),this.add(n,r)),o),i)},ff:function(t,e,i,n,o,r,h){return this.cmn(e&i|~e&n,t,e,o,r,h)},gg:function(t,e,i,n,o,r,h){return this.cmn(e&n|i&~n,t,e,o,r,h)},hh:function(t,e,i,n,o,r,h){return this.cmn(e^i^n,t,e,o,r,h)},ii:function(t,e,i,n,o,r,h){return this.cmn(i^(e|~n),t,e,o,r,h)},md5:function(t){for(var e=this.str2blks_MD5(t),i=1732584193,n=-271733879,o=-1732584194,r=271733878,h=0;h<e.length;h+=16){var a=i,l=n,c=o,s=r;i=this.ff(i,n,o,r,e[h+0],7,-680876936),r=this.ff(r,i,n,o,e[h+1],12,-389564586),o=this.ff(o,r,i,n,e[h+2],17,606105819),n=this.ff(n,o,r,i,e[h+3],22,-1044525330),i=this.ff(i,n,o,r,e[h+4],7,-176418897),r=this.ff(r,i,n,o,e[h+5],12,1200080426),o=this.ff(o,r,i,n,e[h+6],17,-1473231341),n=this.ff(n,o,r,i,e[h+7],22,-45705983),i=this.ff(i,n,o,r,e[h+8],7,1770035416),r=this.ff(r,i,n,o,e[h+9],12,-1958414417),o=this.ff(o,r,i,n,e[h+10],17,-42063),n=this.ff(n,o,r,i,e[h+11],22,-1990404162),i=this.ff(i,n,o,r,e[h+12],7,1804603682),r=this.ff(r,i,n,o,e[h+13],12,-40341101),o=this.ff(o,r,i,n,e[h+14],17,-1502002290),n=this.ff(n,o,r,i,e[h+15],22,1236535329),i=this.gg(i,n,o,r,e[h+1],5,-165796510),r=this.gg(r,i,n,o,e[h+6],9,-1069501632),o=this.gg(o,r,i,n,e[h+11],14,643717713),n=this.gg(n,o,r,i,e[h+0],20,-373897302),i=this.gg(i,n,o,r,e[h+5],5,-701558691),r=this.gg(r,i,n,o,e[h+10],9,38016083),o=this.gg(o,r,i,n,e[h+15],14,-660478335),n=this.gg(n,o,r,i,e[h+4],20,-405537848),i=this.gg(i,n,o,r,e[h+9],5,568446438),r=this.gg(r,i,n,o,e[h+14],9,-1019803690),o=this.gg(o,r,i,n,e[h+3],14,-187363961),n=this.gg(n,o,r,i,e[h+8],20,1163531501),i=this.gg(i,n,o,r,e[h+13],5,-1444681467),r=this.gg(r,i,n,o,e[h+2],9,-51403784),o=this.gg(o,r,i,n,e[h+7],14,1735328473),n=this.gg(n,o,r,i,e[h+12],20,-1926607734),i=this.hh(i,n,o,r,e[h+5],4,-378558),r=this.hh(r,i,n,o,e[h+8],11,-2022574463),o=this.hh(o,r,i,n,e[h+11],16,1839030562),n=this.hh(n,o,r,i,e[h+14],23,-35309556),i=this.hh(i,n,o,r,e[h+1],4,-1530992060),r=this.hh(r,i,n,o,e[h+4],11,1272893353),o=this.hh(o,r,i,n,e[h+7],16,-155497632),n=this.hh(n,o,r,i,e[h+10],23,-1094730640),i=this.hh(i,n,o,r,e[h+13],4,681279174),r=this.hh(r,i,n,o,e[h+0],11,-358537222),o=this.hh(o,r,i,n,e[h+3],16,-722521979),n=this.hh(n,o,r,i,e[h+6],23,76029189),i=this.hh(i,n,o,r,e[h+9],4,-640364487),r=this.hh(r,i,n,o,e[h+12],11,-421815835),o=this.hh(o,r,i,n,e[h+15],16,530742520),n=this.hh(n,o,r,i,e[h+2],23,-995338651),i=this.ii(i,n,o,r,e[h+0],6,-198630844),r=this.ii(r,i,n,o,e[h+7],10,1126891415),o=this.ii(o,r,i,n,e[h+14],15,-1416354905),n=this.ii(n,o,r,i,e[h+5],21,-57434055),i=this.ii(i,n,o,r,e[h+12],6,1700485571),r=this.ii(r,i,n,o,e[h+3],10,-1894986606),o=this.ii(o,r,i,n,e[h+10],15,-1051523),n=this.ii(n,o,r,i,e[h+1],21,-2054922799),i=this.ii(i,n,o,r,e[h+8],6,1873313359),r=this.ii(r,i,n,o,e[h+15],10,-30611744),o=this.ii(o,r,i,n,e[h+6],15,-1560198380),n=this.ii(n,o,r,i,e[h+13],21,1309151649),i=this.ii(i,n,o,r,e[h+4],6,-145523070),r=this.ii(r,i,n,o,e[h+11],10,-1120210379),o=this.ii(o,r,i,n,e[h+2],15,718787259),n=this.ii(n,o,r,i,e[h+9],21,-343485551),i=this.add(i,a),n=this.add(n,l),o=this.add(o,c),r=this.add(r,s)}return this.rhex(i)+this.rhex(n)+this.rhex(o)+this.rhex(r)}},f=function(){var t=(new Date).getTime()+"-",e=0;return function(){return t+e++}}();t();try{if(apmCollectData&&apmCollectData.length>0)for(var g=0,u=apmCollectData.length;g<u;g++){var m=apmCollectData.pop(),p=m[1];l(m[0],p,m[2],m[3])}}catch(t){}window.newLogCount=l}}(),!function(t){"function"==typeof define&&define(t)}(function(t,e,i){i.exports=newLogCount});